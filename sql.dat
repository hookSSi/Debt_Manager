CREATE TABLE IF NOT EXISTS `Account`(
id VARCHAR(65) NOT NULL,
user_id VARCHAR(30) NOT NULL,
user_password VARCHAR(65) NOT NULL,
username VARCHAR(10) NOT NULL,
email VARCHAR(50) NOT NULL,
permission VARCHAR(10) DEFAULT 'normal',
reg_date DATETIME,
last_active_date DATETIME,
PRIMARY KEY(id),
UNIQUE(user_ID),
UNIQUE(email)
)
-----
CREATE TABLE IF NOT EXISTS `Group`(
groupid VARCHAR(65) NOT NULL,
groupName VARCHAR(60) NOT NULL,
peopleCount INT(10) UNSIGNED,
create_date DATETIME,
UNIQUE(`groupName`),
PRIMARY KEY(groupid)
)
-----
CREATE TABLE IF NOT EXISTS `Group_Setting`(
groupid VARCHAR(65) NOT NULL,
isOpen BOOLEAN DEFAULT true,
PRIMARY KEY(groupid)
)
-----
CREATE TABLE IF NOT EXISTS `UserInfo`(
id VARCHAR(65) NOT NULL,
groupid VARCHAR(65) NOT NULL,
name VARCHAR(30) NOT NULL,
self_introduce VARCHAR(200),
image_url mediumblob NOT NULL,
position_in_group VARCHAR(10) DEFAULT 'user',
join_date DATETIME,
PRIMARY KEY(id, groupid)
)
-----
CREATE TABLE IF NOT EXISTS `Finance`(
id VARCHAR(65) NOT NULL,
groupid VARCHAR(65) NOT NULL,
financeid INT(11) unsigned NOT NULL AUTO_INCREMENT,
total_money INT(15) DEFAULT '0',
PRIMARY KEY(id, groupid, financeid),
UNIQUE(financeid)
)
-----
CREATE TABLE IF NOT EXISTS `Finance_Record`(
financeid INT(11) NOT NULL,
money INT(10) DEFAULT '0',
date DATETIME,
type VARCHAR(10) NOT NULL,
PRIMARY KEY(financeid)
)
-----
CREATE TABLE IF NOT EXISTS `BATCH`(
id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
job_name VARCHAR(50) NOT NULL,
context TEXT NOT NULL,
PRIMARY KEY(id)
)
